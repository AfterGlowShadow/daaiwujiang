webpackJsonp([8],{"0dnd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"recruit",data:function(){return{tableData:[],total:0,cur_page:1,cur_size:10,form:{},showAdd:!1,rules:{name:[{required:!0,message:"请填写职位名称",trigger:"blur"}],people:[{required:!0,message:"请填写招聘人数",trigger:"blur"}],salary:[{required:!0,message:"请填写薪资",trigger:"blur"}],address:[{required:!0,message:"请填写地址",trigger:"blur"}],endtime:[{required:!0,message:"请选择截止时间",trigger:"change"}],wordrequire:[{required:!0,message:"请填写工作要求",trigger:"blur"}],wordinfo:[{required:!0,message:"请填写工作内容",trigger:"blur"}]},formLabelWidth:"100px"}},created:function(){this.getCategoryData()},activated:function(){this.getCategoryData()},computed:{},mounted:function(){},methods:{handleCurrentChange:function(e){this.cur_page=e,this.getCategoryData()},handleSizeChange:function(e){this.cur_size=e,this.getCategoryData()},getCategoryData:function(){var e=this,t={list_rows:parseInt(e.cur_size),page:parseInt(e.cur_page)};e.apiGet("/admin/djzp",t).then(function(t){e.handelResponse(t,function(t){e.total=t.data.total,e.tableData=t.data.data})})},add:function(){this.showAdd=!0,this.form={}},handleAdd:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=t,r=new Date(a.form.endtime),o=r.getFullYear(),l=r.getMonth()+1,n=r.getDate(),i=r.getHours(),s=r.getMinutes(),d=r.getSeconds();i<10&&(i="0"+i),s<10&&(s="0"+s),d<10&&(d="0"+d);var u={name:a.form.name,salary:a.form.salary,address:a.form.address,people:a.form.people,endtime:o+"-"+l+"-"+n+i+":"+s+":"+d,wordrequire:a.form.wordrequire,wordinfo:a.form.wordinfo,datoken:a.form.datoken};a.apiPost("/admin/djzpadd",u).then(function(e){t.handelResponse(e,function(e){a.$message.success("成功"),a.getCategoryData(),a.showAdd=!1})})})},handleDetails:function(e,t){this.$router.push({path:"/recruitD",query:{datoken:t.datoken}})},handleI:function(e,t){this.$router.push({path:"/recruitC",query:{datoken:t.datoken}})},open:function(e,t){var a=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={datoken:t.datoken};a.apiPost("/admin/djzpdelete",e).then(function(e){a.handelResponse(e,function(e){a.$message.success("成功"),a.getCategoryData()})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}},mixins:[a("//TE").a]},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.add()}}},[e._v("新增")])],1),e._v(" "),a("el-table",{staticClass:"table",attrs:{data:e.tableData,border:"",id:"multipleTable"}},[a("el-table-column",{attrs:{label:"序号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+(e.cur_page-1)*e.cur_size+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"职位名称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"招聘人数",prop:"people"}}),e._v(" "),a("el-table-column",{attrs:{label:"薪资",prop:"salary"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址",prop:"address"}}),e._v(" "),a("el-table-column",{attrs:{label:"截止时间",prop:"endtime"}}),e._v(" "),a("el-table-column",{attrs:{label:"工作要求",prop:"wordrequire"}}),e._v(" "),a("el-table-column",{attrs:{label:"工作内容",prop:"wordinfo"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-document"},on:{click:function(a){return e.handleDetails(t.$index,t.row)}}},[e._v("详情\n          ")]),e._v(" "),a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleI(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-setting"},on:{click:function(a){return e.open(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.showAdd},on:{"update:visible":function(t){e.showAdd=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"职位名称",prop:"name","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"mz_wb",attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"招聘人数",prop:"people","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"mz_wb",attrs:{autocomplete:"off"},model:{value:e.form.people,callback:function(t){e.$set(e.form,"people",t)},expression:"form.people"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"薪资",prop:"salary","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"mz_wb",attrs:{autocomplete:"off"},model:{value:e.form.salary,callback:function(t){e.$set(e.form,"salary",t)},expression:"form.salary"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"address","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"mz_wb",attrs:{autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"截止时间",prop:"endtime","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.endtime,callback:function(t){e.$set(e.form,"endtime",t)},expression:"form.endtime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工作要求",prop:"wordrequire","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"mz_wb",attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.wordrequire,callback:function(t){e.$set(e.form,"wordrequire",t)},expression:"form.wordrequire"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工作内容",prop:"wordinfo","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"mz_wb",attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.wordinfo,callback:function(t){e.$set(e.form,"wordinfo",t)},expression:"form.wordinfo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showAdd=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("q2dl")},"data-v-a99e9b50",null);t.default=l.exports},q2dl:function(e,t){}});
//# sourceMappingURL=8.8e7410dbbdf71a907d2b.js.map